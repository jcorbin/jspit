{
  "version": 3,
  "sources": ["/Users/jcorbin/borkshop-js/packages/jspit/src/state.ts"],
  "sourcesContent": ["export function readHashFrag():string|null {\n  const parts = window.location.hash.split(';');\n  const frag = parts.shift();\n  return frag ? frag.replace(/^#+/, '') : null;\n}\n\nexport function setHashFrag(frag:string) {\n  const parts = window.location.hash.split(';');\n  const expected = '#' + frag;\n  if (parts.length && parts[0] === expected) return;\n  window.location.hash = expected;\n}\n\nexport function readHashVar(name:string):string|null {\n  const parts = window.location.hash.split(';');\n  parts.shift();\n  const prefix = name + '=';\n  for (const part of parts) if (part.startsWith(prefix))\n    return unescape(part.slice(prefix.length));\n  return null;\n}\n\nexport function setHashVar(name:string, value:string|null) {\n  const parts = window.location.hash.split(';');\n  const frag = parts.shift() || '#;';\n  const prefix = name + '=';\n  let res = [frag];\n  let found = false;\n  for (const part of parts)\n    if (!part.startsWith(prefix)) {\n      res.push(part);\n    } else if (value !== null && !found) {\n      res.push(prefix + escape(value));\n      found = true;\n    }\n  if (value !== null && !found)\n    res.push(prefix + escape(value));\n  window.location.hash = res.join(';');\n}\n"],
  "mappings": "AAAO;AACL,QAAM,QAAQ,OAAO,SAAS,KAAK,MAAM;AACzC,QAAM,OAAO,MAAM;AACnB,SAAO,OAAO,KAAK,QAAQ,OAAO,MAAM;AAAA;AAGnC,4BAAqB;AAC1B,QAAM,QAAQ,OAAO,SAAS,KAAK,MAAM;AACzC,QAAM,WAAW,MAAM;AACvB,MAAI,MAAM,UAAU,MAAM,OAAO;AAAU;AAC3C,SAAO,SAAS,OAAO;AAAA;AAGlB,4BAAqB;AAC1B,QAAM,QAAQ,OAAO,SAAS,KAAK,MAAM;AACzC,QAAM;AACN,QAAM,SAAS,OAAO;AACtB,aAAW,QAAQ;AAAO,QAAI,KAAK,WAAW;AAC5C,aAAO,SAAS,KAAK,MAAM,OAAO;AACpC,SAAO;AAAA;AAGF,2BAAoB,MAAa;AACtC,QAAM,QAAQ,OAAO,SAAS,KAAK,MAAM;AACzC,QAAM,OAAO,MAAM,WAAW;AAC9B,QAAM,SAAS,OAAO;AACtB,MAAI,MAAM,CAAC;AACX,MAAI,QAAQ;AACZ,aAAW,QAAQ;AACjB,QAAI,CAAC,KAAK,WAAW;AACnB,UAAI,KAAK;AAAA,eACA,UAAU,QAAQ,CAAC;AAC5B,UAAI,KAAK,SAAS,OAAO;AACzB,cAAQ;AAAA;AAEZ,MAAI,UAAU,QAAQ,CAAC;AACrB,QAAI,KAAK,SAAS,OAAO;AAC3B,SAAO,SAAS,OAAO,IAAI,KAAK;AAAA;",
  "names": []
}
